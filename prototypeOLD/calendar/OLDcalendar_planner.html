<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css/main.css">
  <!-- <script src="../js/calendar.js"></script> -->
  <link href='cal/fullcalendar.min.css' rel='stylesheet' />
  <link href='cal/fullcalendar.print.min.css' rel='stylesheet' media='print' />
  <script src='lib/moment.min.js'></script>
  <script src='lib/jquery.min.js'></script>
  <script src='cal/fullcalendar.min.js'></script>
  <script>

    $(document).ready(function() {

      $('#calendar').fullCalendar({
        header: {
          left: '',//'today',
          center: 'title',
          right: 'agendaDay,listWeek'
        },
        defaultDate: '2019-03-08',
        navLinks: true, // can click day/week names to navigate views
        editable: true,
        eventLimit: true, // allow "more" link when too many events
        events: [
          {
            title: 'Breakfast',
            start: '2019-03-08T08:30:00',
            end: '2019-03-08T09:30:00'
          },
      {
            title: 'First POI',
            start: '2019-03-08T10:00:00',
            end: '2019-03-08T11:00:00'
          },
      {
            title: 'Second POI',
            start: '2019-03-08T11:30:00',
            end: '2019-03-08T12:30:00'
          },
          {
            title: 'Lunch',
            start: '2019-03-08T13:00:00',
        end: '2019-03-08T14:00:00'
          },
      {
            title: 'Third POI',
            start: '2019-03-08T14:30:00',
            end: '2019-03-08T16:30:00'
          },

          {
            title: 'Happy Hour',
            start: '2019-03-08T17:00:00',
        end: '2019-03-08T17:45:00'
          },
      {
            title: 'Forth POI',
            start: '2019-03-08T18:00:00',
            end: '2019-03-08T19:30:00'
          },
          {
            title: 'Dinner',
            start: '2019-03-08T20:00:00'
          },
          {
            title: 'Click for Google',
            url: 'http://google.com/',
            start: '2019-03-08'
          }

        ]
      });

    });

  </script>

  <title></title>
</head>
<body>
  <section>
    <h2>Days of your trip</h2>
    <!-- DRAGGABLE ELEMENT DIV -->
    <div id="mydiv">
      <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
      <div id="mydivheader">Click here to move</div>
      <p>Move</p>
      <p>this</p>
      <p>DIV</p>
    </div>
    <div id="testFabio">
      <div id="mydivheader">Click here to move</div>
      <p>Test Div</p>

    </div>

    <div id="element2">
      <div id="mydivheader">Click here to move</div>
      <p>Element 2</p>
    </div>
  </div>

    <div class="row">
      <div class="column" style="background-color:#aaa;">
        <h2>My plan for Today</h2>
          <div id='calendar'></div>

      </div>
      <div class="column" style="background-color:#bbb;">
        <!-- <h2>Wishlist/ Point of interest</h2>
        <p>Wishlist for 1 day should be here</p> -->
        <div id="myDIV" class="header">
          <h2>My WishList for this Trip</h2>
          <!-- <input type="text" id="myInput" placeholder="Title...">
          <span onclick="newElement()" class="addBtn">Add</span> -->
        </div>

        <ul id="myUL">
          <li>Place 1</li>
          <li class="checked">Place 2</li>
          <li>Place 3</li>
          <li>Place 4</li>
          <li>Place 5</li>
          <li>Place 6</li>
        </ul>

    </section>


    <script >
    //Make the DIV element draggagle:
    dragElement(document.getElementById("mydiv")); /*the part between bracket identify the element (elmnt)*/
    dragElement(document.getElementById("testFabio"));
    dragElement(document.getElementById("element2"));

    function dragElement(elmnt) {
      var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      if (document.getElementById(elmnt.id + "header")) {
        // if present, the header is where you move the DIV from:
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
      } else {
        // otherwise, move the DIV from anywhere inside the DIV:
        elmnt.onmousedown = dragMouseDown;
      }

      function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag;
      }

      function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }

      function closeDragElement() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }
    </script>

  <script>
  // Create a "close" button and append it to each list item
  var myNodelist = document.getElementsByTagName("LI");
  var i;
  for (i = 0; i < myNodelist.length; i++) {
    var span = document.createElement("SPAN");
    var txt = document.createTextNode("\u00D7");
    span.className = "close";
    span.appendChild(txt);
    myNodelist[i].appendChild(span);
  }

  // Click on a close button to hide the current list item
  var close = document.getElementsByClassName("close");
  var i;
  for (i = 0; i < close.length; i++) {
    close[i].onclick = function() {
      var div = this.parentElement;
      div.style.display = "none";
    }
  }

  // Add a "checked" symbol when clicking on a list item
  var list = document.querySelector('ul');
  list.addEventListener('click', function(ev) {
    if (ev.target.tagName === 'LI') {
      ev.target.classList.toggle('checked');
    }
  }, false);

  // Create a new list item when clicking on the "Add" button
  function newElement() {
    var li = document.createElement("li");
    var inputValue = document.getElementById("myInput").value;
    var t = document.createTextNode(inputValue);
    li.appendChild(t);
    if (inputValue === '') {
      alert("You must write something!");
    } else {
      document.getElementById("myUL").appendChild(li);
    }
    document.getElementById("myInput").value = "";

    var span = document.createElement("SPAN");
    var txt = document.createTextNode("\u00D7");
    span.className = "close";
    span.appendChild(txt);
    li.appendChild(span);

    for (i = 0; i < close.length; i++) {
      close[i].onclick = function() {
        var div = this.parentElement;
        div.style.display = "none";
      }
    }
  }

  </script>

</body>
</html>
